{"ast":null,"code":"var _jsxFileName = \"/Users/annamatic/Desktop/webtest/src/content/article/Article.js\";\nimport React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as link from '../../utilities/link-config';\nimport Content from './components/Content';\nimport Header from './components/Header';\nimport NotFound from '../../layout/ui/NotFound/NotFound';\nimport Loading from '../../layout/ui/NanoLoading';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    minHeight: 'calc(100vh - 200px)'\n  },\n  notFound: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  articleFound: {\n    backgroundColor: theme.palette.common.white\n  }\n}));\nexport default function Article() {\n  const classes = useStyles();\n  const [article, setArticle] = useState([]);\n  const [searchParam] = useState('q');\n  const [loading, setLoading] = useState(true);\n  const [foundArticle, setFoundArticle] = useState(false);\n  const [fetchedArticle, setFetchedArticle] = useState(false);\n  const root = clsx(classes.root, {\n    [classes.notFound]: !foundArticle,\n    [classes.articleFound]: foundArticle\n  });\n\n  const fetchArticle = articleId => {\n    axios.get(`${link.STRAPI_BASE}/articles/${articleId}`).then(response => {\n      setFoundArticle(true);\n      setFetchedArticle(true);\n      setArticle(response.data);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setFoundArticle(false);\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    let params = new URLSearchParams(window.location.search);\n\n    if (params.has(searchParam)) {\n      setLoading(true);\n      fetchArticle(params.get(searchParam));\n    }\n\n    if (!params.has(searchParam)) {\n      setLoading(false);\n      setFoundArticle(false);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, foundArticle && fetchedArticle ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.foundArticle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    image: `${link.STRAPI_URL}${article.icon.url}`,\n    title: article.title,\n    author: article.author,\n    time: article.created_at,\n    tags: article.categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Content, {\n    article: article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 37\n    }\n  })) : /*#__PURE__*/React.createElement(NotFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 35\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/annamatic/Desktop/webtest/src/content/article/Article.js"],"names":["React","useState","useEffect","clsx","axios","makeStyles","link","Content","Header","NotFound","Loading","useStyles","theme","root","minHeight","notFound","display","flexDirection","alignItems","justifyContent","articleFound","backgroundColor","palette","common","white","Article","classes","article","setArticle","searchParam","loading","setLoading","foundArticle","setFoundArticle","fetchedArticle","setFetchedArticle","fetchArticle","articleId","get","STRAPI_BASE","then","response","data","catch","error","console","log","params","URLSearchParams","window","location","search","has","STRAPI_URL","icon","url","title","author","created_at","categories"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as link from '../../utilities/link-config';\nimport Content from './components/Content';\nimport Header from './components/Header';\nimport NotFound from '../../layout/ui/NotFound/NotFound';\nimport Loading from '../../layout/ui/NanoLoading';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minHeight: 'calc(100vh - 200px)',\n    },\n    notFound: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    articleFound: {\n        backgroundColor: theme.palette.common.white\n    }\n}))\n\nexport default function Article() {\n    const classes = useStyles();\n    const [article, setArticle] = useState([])\n    const [searchParam] = useState('q');\n    const [loading, setLoading] = useState(true);\n    const [foundArticle, setFoundArticle] = useState(false)\n    const [fetchedArticle, setFetchedArticle] = useState(false)\n\n    const root = clsx(classes.root, {\n        [classes.notFound]: !foundArticle,\n        [classes.articleFound]: foundArticle\n    })\n\n    const fetchArticle = (articleId) => {\n        axios.get(`${link.STRAPI_BASE}/articles/${articleId}`)\n            .then((response) => {\n                setFoundArticle(true);\n                setFetchedArticle(true);\n                setArticle(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                console.log(error)\n                setFoundArticle(false);\n                setLoading(false);\n            })\n    }\n\n    useEffect(() => {\n        let params = new URLSearchParams(window.location.search)\n        if (params.has(searchParam)) {\n            setLoading(true);\n            fetchArticle(params.get(searchParam))\n        }\n        if (!params.has(searchParam)) {\n            setLoading(false);\n            setFoundArticle(false); \n        }\n    }, [])\n\n    return (\n        <div className={root}>\n            {\n                loading\n                    ? <Loading />\n                    :\n                    <React.Fragment>\n                        {\n                            foundArticle && fetchedArticle\n                                ?\n                                <div className={classes.foundArticle}>\n                                    <Header image={`${link.STRAPI_URL}${article.icon.url}`} title={article.title} author={article.author} time={article.created_at} tags={article.categories} />\n                                    <Content article={article} />\n                                </div>\n                                : <NotFound />\n                        }\n                    </React.Fragment>\n            }\n        </div>\n    );\n}\n\n"]},"metadata":{},"sourceType":"module"}